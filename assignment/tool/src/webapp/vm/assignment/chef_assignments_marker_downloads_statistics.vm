<script>
	$(document).ready(function() {
		$(document).on("click", ".glyphicon", function() {
			$eventSource = $(this);
			// Check if down arrow was clicked
			if($eventSource.hasClass("glyphicon-chevron-down")) {
				$eventSource.removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up");
				$eventSource.closest(".assignments").find(".panel-body").show();
			} else if($eventSource.hasClass("glyphicon-chevron-up")) { // Check if down up was clicked
				$eventSource.removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down");
				$eventSource.closest(".assignments").find(".panel-body").hide();
			}
		});
	});
</script>
<!-- start: chef_assignments_marker_downloads_statistics.vm  -->
<div class="portletBody container-fluid">
	#navBarHREF( $allowAddAssignment $withGrade $allowGradeSubmission $allowAddAssignment $allowRecoverAssignment $allowAllGroups $assignmentscheck $allowUpdateSite $enableViewOption $view "markerdownstats" )

	<div class="page-header" id="marker_downloads_statistics">
        <h1>
			$tlang.getString("markerdownstats")
		</h1>
	</div>
	#if (!$!assignments.hasNext())
		<p class="instruction">
			$tlang.getString("gen.thearecur1")
		</p>
	#else
		<div class="panel-default">
			#set( $assignmentCount = 0 )
			#foreach( $assignment in $assignments)
				#set ($assignmentReference = $!service.assignmentReference($assignment.Id))
				#set($assignmentProperties=$!assignment.getProperties())
				<div class="assignments" #if( $assignmentCount < ($NumberOfFoundAssignments - 1) ) style="margin-bottom: 5px" #end>	
					<div class="panel-heading" style="background: #fafafa; padding-left: 5px;">
						$tlang.getString("gen.asstit"):
						<h4 style="margin-top: 0px; margin-bottom: 0px; display: inline-block">
							$validator.escapeHtml($!assignment.Title)
						</h4>
						<span class="icon-container" style="display: block; float: right; font-size: 25px; cursor: pointer">
							<span #if( $assignmentCount == 0 ) class="glyphicon glyphicon-chevron-up" #else class="glyphicon glyphicon-chevron-down" #end></span>
						</span>
					</div>
					<div class="panel-body"  #if( $assignmentCount == 0 ) style="display: block" #else style="display: none" #end>
						<table class="table table-striped table-bordered">
							<thead>
								<tr style="background: #FAFAFA; font-weight: inherit">
									<th>Name of Marker</th>
									<th>Role</th>
									<th>Download</th>
									<th>Upload</th>
									<th>Download All</th>
									<th>In/Out/Total</th>
								</tr>	
							</thead>
							<tbody>
								## Set static markers
								#set($counter = 0)
								#set( $markers = ["Jansen van Vuuren, CJ (12345678)", "Knoetze, A (11111111)", "JSeemonster, S (22222222)"] )
								#set( $roles = ["Instructor", "Teaching Assistant", "Marker"] )
								#set( $stats = ["2/20/25", "50/70/200", "3/10/100"] )
								#foreach( $marker in $markers )
									<tr #if( $counter % 2 == 0) style="background: #fff" #else style="background: #f9f9f9" #end>
										<td>$!marker</td>
										<td>$roles.get($counter)</td>
										<td><a href="#">Download</a></td>
										<td><a href="#">Upload</a></td>
										<td><a href="#">Download All</a></td>
										<td>$stats.get($counter)</td>
									</tr>
									#set( $counter = $counter + 1 )
								#end
							</tbody>	
						</table>
					</div>
				</div>
				#set( $assignmentCount  = $assignmentCount + 1 )
			#end
		</div>
	#end
</div>	
<!-- end: chef_assignments_marker_downloads_statistics.vm  -->